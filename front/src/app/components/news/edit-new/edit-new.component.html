<h1>Edición noticia</h1>
<div class="container">
    @if(news != undefined){
    <section class="editor-container">
        <section id="editorNews">
            <label for="">Título </label>
            <input type="text" pInputText [(ngModel)]="news!.title" />
        </section>
        <p-toast></p-toast>
        <section>
            <div style="margin: 10px;">
                <p-fileUpload [customUpload]="true" mode="basic" chooseLabel="Actualizar imagen" name="demo[]"
                    [auto]="true" accept="image/*" (uploadHandler)="uploadFile($event)"></p-fileUpload>
            </div>
            <img src="{{image}}" id="image" alt="" srcset="">
        </section>
        <section id="editorNews">
            <p-editor [(ngModel)]="news!.body" [style]="{'height':'80vh'}">
                <p-header>
                    <span class="ql-formats">
                        <select class="ql-size">
                            <option value="small">Petit</option>
                            <option selected></option>
                            <option value="large">Sous-titre</option>
                            <option value="huge">Titre</option>
                        </select>
                    </span>
                    <span class="ql-formats">
                        <button class="ql-bold" aria-label="Bold"></button>
                        <button class="ql-italic" aria-label="Italic"></button>
                        <button class="ql-underline" aria-label="Underline"></button>
                        <button class="ql-strike" aria-label="Strike"></button>
                    </span>
                    <span class="ql-formats">
                        <select title="Text Color" class="ql-color" defaultValue="rgb(0, 0, 0)">
                            <option value="rgb(0, 0, 0)" label="rgb(0, 0, 0)"></option>
                            <option value="rgb(61, 20, 102)" label="rgb(61, 20, 102)"></option>
                        </select>
                        <span class="ql-format-separator"></span>
                        <select title="Background Color" class="ql-background" defaultValue="rgb(255, 255, 255)">
                            <option value="rgb(0, 0, 0)" label="rgb(0, 0, 0)"></option>

                            <option value="rgb(61, 20, 102)" label="rgb(61, 20, 102)"></option>
                        </select>
                    </span>
                    <span class="ql-formats">
                        <span class="ql-formats">
                            <button type="button" class="ql-list" aria-label="List" value='ordered'></button>
                            <button type="button" class="ql-list" aria-label="Bullet" value='bullet'></button>
                        </span>
                        <select title="Text Alignment" class="ql-align">
                            <option selected>Gauche</option>
                            <option value="center" label="Center"></option>
                            <option value="right" label="Right"></option>
                            <option value="justify" label="Justify"></option>
                        </select>
                        <span class="ql-formats">
                            <button type="button" class="ql-clean" aria-label="clean">
                            </button>
                        </span>
                    </span>
                    <span class="ql-table"></span>
                </p-header>
            </p-editor>

            <app-dialog id="btnCreate" [nameBtn]="'Editar noticia'" [header]="'Alerta'"
                [message]="'¿Estás seguro de que quiere realizar esta acción? Va a crear una nueva noticia'"
                (eventEmiter)="editNew($event)"></app-dialog>
        </section>

    </section>
    }

    @if(comments){

    <section class="comments-container">
        @for(comment of comments; track comment.id){
        <div style="margin-top: 20px;">

            <p-panel header='Comentario id: {{comment.id}} autor: {{comment.name_author}} {{comment.last_author}}'>

                    <app-dialog  [icon]="'pi pi-trash'" [severity]="'danger'" [header]="'Alerta'" [message]="'¿Estás seguro de que quiere realizar esta acción? Va a eliminar un comentario'" (eventEmiter)="deleteComment($event,comment.id)"></app-dialog>

                @if(comment.respond_to_id != null){
                <div>
                    <p>Respuesta al ID de comentario: {{comment.respond_to_id}}</p>
                    <p>Comentario: {{comment.comment}}</p>
                </div>
                }@else{
                <div>
                    <p>Comentario: {{comment.comment}}</p>
                </div>
                }
            </p-panel>
        </div>
        }
    </section>
    }
</div>